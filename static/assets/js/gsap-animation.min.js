gsap.registerPlugin(ScrollTrigger,SplitText);gsap.config({nullTargetWarn:!1,trialWarn:!1});function pbmit_img_animation(){const boxes=gsap.utils.toArray('.pbmit-animation-style1,.pbmit-animation-style2,.pbmit-animation-style3,.pbmit-animation-style4,.pbmit-animation-style5,.pbmit-animation-style6');boxes.forEach(img=>{gsap.to(img,{scrollTrigger:{trigger:img,start:"top 70%",end:"bottom bottom",toggleClass:"active",once:!0,}})});gsap.utils.toArray(".pbmit-animation-style7 .elementor-widget-container").forEach(function(container){let image=container.querySelector("img");gsap.to(image,{y:()=>(image.offsetHeight-container.offsetHeight)+200,ease:"none",scrollTrigger:{trigger:container,scrub:!0,pin:!1,markers:!1,invalidateOnRefresh:!0},})});let image8=document.querySelector(".pbmit-animation-style8");gsap.to(image8,{y:()=>200,ease:"none",scrollTrigger:{trigger:image8,scrub:1,pin:!1,markers:!1,invalidateOnRefresh:!0},})}
function pbmit_hover_img(){const pbmitHoverImg=gsap.utils.toArray(".pbmit-ihbox-style-2,.pbmit-timeline .pbmit-content, .pbmit-team-style-2 .pbminfotech-box-content-inner");pbmitHoverImg.forEach((target)=>{const pbmitImg=target.querySelector('.pbmit-hover-img');const t1=gsap.timeline();t1.to(pbmitImg,{opacity:1,duration:0.4,scale:1,ease:"Power2.easeOut"})
target.pbmitHoverAnim=t1.play().reversed(!0);target.addEventListener("mouseenter",pbmithoverimg);target.addEventListener("mouseleave",pbmithoverimg);target.addEventListener("mousemove",(e)=>{let xpos=e.offsetX;let ypos=e.offsetY;const t1=gsap.timeline();t1.to(pbmitImg,{x:xpos,y:ypos})})});function pbmithoverimg(){this.pbmitHoverAnim.reversed(!this.pbmitHoverAnim.reversed())}}
function pbmit_horizontal_snap_section(){var pbmit_var=jQuery('.pbmit-horizontal-snap-section');if(!pbmit_var.length){return}
let pbmithsContainer=document.querySelector(".pbmit-horizontal-snap-section"),pbmithsPanel=gsap.utils.toArray(".pbmit-horizontal-snap-section .pbmit-ele-horizontal-snap"),pbmithWidth=0,pbmithsTween;ScrollTrigger.matchMedia({"(min-width: 1200px)":function(){const pbmithgetWidth=()=>{pbmithWidth=0;pbmithsPanel.forEach((section)=>{pbmithWidth+=section.offsetWidth});pbmithWidth+=window.innerWidth;pbmithWidth+=10000;return pbmithWidth};gsap.set(pbmithsContainer,{width:(100*(pbmithsPanel.length)+'%')});pbmithgetWidth();ScrollTrigger.addEventListener("refreshInit",pbmithgetWidth);pbmithsTween=gsap.to(pbmithsPanel,{xPercent:-100*(pbmithsPanel.length-1),ease:"none",scrollTrigger:{trigger:pbmithsContainer,pin:!0,start:"top 1%",scrub:1,invalidateOnRefresh:!0,snap:{snapTo:1/(pbmithsPanel.length-1),inertia:!1,delay:0.1,duration:{min:1,max:1}},end:()=>"+="+(pbmithsContainer.offsetWidth-innerWidth)}});pbmithsPanel.forEach(section=>{gsap.to(section,{scrollTrigger:{trigger:section,start:()=>'top top-='+(section.offsetLeft-window.innerWidth/2)*(pbmithWidth/(pbmithWidth-window.innerWidth)),end:()=>'+='+section.offsetWidth*(pbmithWidth/(pbmithWidth-window.innerWidth)),toggleClass:"active",invalidateOnRefresh:!0}})});window.addEventListener("resize",this.onResize)},"(max-width: 1200px)":function(){if(pbmithsTween)pbmithsTween.kill(!0);gsap.set(pbmithsContainer,{width:'100%'})}})}
function pbmit_tween_effect(){const pbmit_tween=gsap.utils.toArray('.pbmit-tween-effect');if(pbmit_tween.length==0)return
ScrollTrigger.matchMedia({"(min-width: 1201px)":function(){pbmit_tween.forEach((box,i)=>{let toppos=box.getAttribute('data-start-position');let tl=gsap.timeline({scrollTrigger:{trigger:box,start:"top "+toppos+"",end:"bottom 70%",scrub:1},defaults:{ease:"none"}});let xpos_val=box.getAttribute('data-x-start');let xpose_val=box.getAttribute('data-x-end');let ypos_val=box.getAttribute('data-y-start');let ypose_val=box.getAttribute('data-y-end');let scale_x_val=box.getAttribute('data-scale-x-start');let scale_xe_val=box.getAttribute('data-scale-x-end');let skew_x_val=box.getAttribute('data-skew-x-start');let skew_xe_val=box.getAttribute('data-skew-x-end');let skew_y_val=box.getAttribute('data-skew-y-start');let skew_ey_val=box.getAttribute('data-skew-y-end');let rotation_x_val=box.getAttribute('data-rotate-x-start');let rotation_xe_val=box.getAttribute('data-rotate-x-end');gsap.set(box,{xPercent:xpos_val,yPercent:ypos_val,scale:scale_x_val,skewX:skew_x_val,skewY:skew_y_val,rotation:rotation_x_val});tl.to(box,{xPercent:xpose_val,yPercent:ypose_val,scale:scale_xe_val,skewX:skew_xe_val,skewY:skew_ey_val,rotation:rotation_xe_val})})},})}
function getpercentage(x,y,elm){elm.find('.pbmit-fid-inner').html(y+'/'+x);var cal=Math.round((y*100)/x);return cal}
function pbmit_staticbox_hover(){var pbmit_var=jQuery('.pbmit-element-static-box-style-1, .pbmit-element-static-box-style-2');if(!pbmit_var.length){return}
pbmit_var.each(function(){var pbmit_Class='.pbmit-element-posts-wrapper > .pbmit-ele-static-box, .swiper-static-slide-nav li, .pbmit-hover-inner li';jQuery(this).find(pbmit_Class).first().addClass('pbmit-active');jQuery(this).find(pbmit_Class).on('mouseover',function(){jQuery(this).addClass('pbmit-active').siblings().removeClass('pbmit-active')})})}
function pbmit_title_animation(){var pbmit_var=jQuery('.pbmit-custom-heading, .pbmit-heading-subheading');if(!pbmit_var.length){return}
const quotes=document.querySelectorAll(".pbmit-heading-subheading .pbmit-element-title, .pbmit-custom-heading .pbmit-element-title ");quotes.forEach(quote=>{if(quote.animation){quote.animation.progress(1).kill();quote.split.revert()}
var getclass=quote.closest('.pbmit-heading-subheading, .pbmit-custom-heading').className;var animation=getclass.split('animation-');if(animation[1]=="style4")return
quote.split=new SplitText(quote,{type:"lines,words,chars",linesClass:"split-line"});gsap.set(quote,{perspective:400});if(animation[1]=="style1"){gsap.set(quote.split.chars,{opacity:0,y:"90%",rotateX:"-40deg"})}
if(animation[1]=="style2"){gsap.set(quote.split.chars,{opacity:0,x:"50"})}
if(animation[1]=="style3"){gsap.set(quote.split.chars,{opacity:0,})}
quote.animation=gsap.to(quote.split.chars,{scrollTrigger:{trigger:quote,start:"top 90%",},x:"0",y:"0",rotateX:"0",opacity:1,duration:1,ease:Back.easeOut,stagger:.02})})}
function pbmit_sticky(){ScrollTrigger.matchMedia({"(min-width: 992px)":function(){let pbmit_sticky_container=jQuery(".pbmit-sticky-col");let section=pbmit_sticky_container.closest('section');if(!section[0]){section=pbmit_sticky_container.closest('.pbmit-sticky-section')}
let tl=gsap.timeline({scrollTrigger:{pin:!0,scrub:1,trigger:pbmit_sticky_container,end:()=>"+="+((section.height()+200)-document.documentElement.clientHeight)},defaults:{ease:"none",duration:1}})},})}
function pbmit_sticky_menu(){if(!jQuery(".pbmit-element-split-slide-style-1")[0]){return}
ScrollTrigger.matchMedia({"(min-width: 992px)":function(){let container=jQuery(".pbmit-element-split-slide-style-1 .pbmit-img");let section=jQuery(".pbmit-element-split-slide-style-1 .pbmit-element-split-slide-wrapper");var indicators=gsap.utils.toArray('.pbmit-element-split-slide-style-1 .pbmit-split-slide-item-image');var points=gsap.utils.toArray('.pbmit-element-split-slide-style-1 .pbmit-bg-imgbox .pbmit-split-slide-box');var gap=points.length*50;let tl=gsap.timeline({scrollTrigger:{pin:!0,scrub:1,trigger:container,end:()=>"+="+((section.height()+gap)-document.documentElement.clientHeight),onUpdate:(self)=>{let per=parseInt(self.progress*100);if(per>99)indicators[points.length-1].classList.add('last');else indicators[points.length-1].classList.remove('last');if(per<1)indicators[0].classList.add('first');else indicators[0].classList.remove('first')}},defaults:{ease:"none",duration:1}});points.forEach((sct,i)=>{let pos=indicators[i];ScrollTrigger.create({trigger:sct,start:"top center",end:()=>'+='+sct.offsetHeight,toggleClass:{targets:pos,className:"active"}})});jQuery('.pbmit-element-split-slide-style-1 .pbmit-bg-imgbox .pin-spacer .pbmit-split-slide-item-image:first-child').addClass('active')},"(max-width:992px)":function(){ScrollTrigger.getAll().forEach(pin=>pin.kill(!0))}})}
function pbmit_bg_change(){const $section=jQuery(".site-content-wrap");const $startTriggers=gsap.utils.toArray(".pbmit-bg-change");if(!$startTriggers[0]){return}
$startTriggers.forEach(elm=>{let $startTrigger=jQuery(elm);const color=$startTrigger.css("background-color");$startTrigger.css("background-color","transparent");ScrollTrigger.create({trigger:$startTrigger,start:"top 20%",end:'+=50%',onEnter:()=>{gsap.to($section,{backgroundColor:color,overwrite:"auto"})
$startTrigger.addClass("pbmit-text-color-white")},onEnterBack:()=>{gsap.to($section,{backgroundColor:color,overwrite:"auto"})
$startTrigger.addClass("pbmit-text-color-white")},onLeaveBack:()=>{gsap.to($section,{backgroundColor:'rgba(255,0,0,0)',overwrite:"auto"})
$startTrigger.removeClass("pbmit-text-color-white")},onLeave:()=>{gsap.to($section,{backgroundColor:'rgba(255,0,0,0)',overwrite:"auto"})
$startTrigger.removeClass("pbmit-text-color-white")}})})}
ScrollTrigger.addEventListener("refresh",pbmit_title_animation);ScrollTrigger.matchMedia({"(max-width: 1200px)":function(){ScrollTrigger.getAll().forEach(t=>t.kill())}});jQuery(document).ready(function(){pbmit_staticbox_hover()});jQuery(window).load(function(){pbmit_title_animation();pbmit_hover_img();pbmit_tween_effect();pbmit_img_animation();pbmit_sticky();pbmit_bg_change();pbmit_sticky_menu();pbmit_horizontal_snap_section();const cursor=new Cursor();jQuery('[data-magnetic]').each(function(){new Magnetic(this)});gsap.delayedCall(1,()=>ScrollTrigger.getAll().forEach((t)=>{t.refresh()}))})